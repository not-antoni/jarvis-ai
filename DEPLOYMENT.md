# Jarvis Discord Bot - Deployment Guide

## ðŸš€ Render Deployment

### Prerequisites
- GitHub repository with your code
- Render account
- Discord bot token
- MongoDB Atlas database
- AI provider API keys (at least one)

### Environment Variables Required

#### Required (Bot won't start without these):
- `DISCORD_TOKEN` - Your Discord bot token
- `MONGO_PW` - MongoDB Atlas password

#### Optional AI Providers (at least one recommended):
- `OPENROUTER_API_KEY` - OpenRouter API key
- `GROQ_API_KEY` - Groq API key  
- `GOOGLE_AI_API_KEY` - Google AI API key
- `MIXTRAL_API_KEY` - Mixtral API key
- `HF_TOKEN` - HuggingFace API key
- `OPENAI_API_KEY` - OpenAI API key

#### Additional (Optional):
- `BRAVE_API_KEY` - Enables the `jarvis search` wake phrase using Brave Search
- `ADMIN_USER_ID` - Your Discord user ID for admin commands
- `PORT` - Server port (auto-generated by Render)

### Deployment Steps

1. **Push to GitHub**: Make sure all files are committed and pushed
2. **Connect to Render**: Link your GitHub repo to Render
3. **Set Environment Variables**: Add all your API keys in Render dashboard
4. **Deploy**: Render will automatically build and deploy

### File Structure
```
â”œâ”€â”€ index.js              # Main entry point
â”œâ”€â”€ config.js             # Configuration management
â”œâ”€â”€ database.js           # Database operations
â”œâ”€â”€ ai-providers.js       # AI provider management
â”œâ”€â”€ jarvis-core.js        # Core Jarvis personality
â”œâ”€â”€ discord-handlers.js   # Discord event handling
â”œâ”€â”€ deploy.js             # Deployment verification
â”œâ”€â”€ package.json          # Dependencies and scripts
â”œâ”€â”€ render.yaml           # Render configuration
â””â”€â”€ DEPLOYMENT.md         # This file
```

### Health Checks

- **Main endpoint**: `https://your-app.onrender.com/` - ASCII Animation Status Page
- **Health endpoint**: `https://your-app.onrender.com/health` - Detailed status (JSON)

### Verification

Before deploying, run locally:
```bash
npm run verify
```

This will check:
- âœ… Required environment variables
- âœ… Database connectivity  
- âœ… AI provider configuration
- âœ… All modules load correctly

### Troubleshooting

**Bot not responding:**
- Check Discord token is valid
- Verify bot has proper permissions in Discord server
- Check Render logs for errors

**Database errors:**
- Verify MongoDB connection string
- Check if IP is whitelisted in MongoDB Atlas
- Ensure database user has proper permissions

**AI not working:**
- Check at least one AI provider API key is set
- Verify API keys are valid and have credits
- Check Render logs for provider errors

### Monitoring

The bot includes:
- Automatic cleanup of old data
- Memory leak prevention
- Graceful error handling
- Health check endpoints
- Detailed logging

### Support

If you encounter issues:
1. Check Render logs first
2. Run `npm run verify` locally
3. Verify all environment variables are set
4. Check Discord bot permissions
